<?php

return [
    'yandex' => [
        'gpt-pro' => [
            'name' => 'YandexGPT Pro',
            'model' => 'yandexgpt',
            'version' => 'latest',
            'temperature' => 0.7,
            'max_tokens' => 2000,
            'endpoint' => 'https://llm.api.cloud.yandex.net/foundationModels/v1/completion',
        ],
        'gpt-5.1-pro' => [
            'name' => 'YandexGPT 5.1 Pro',
            'model' => 'yandexgpt-5.1',
            'version' => 'latest',
            'temperature' => 0.7,
            'max_tokens' => 2000,
            'endpoint' => 'https://llm.api.cloud.yandex.net/foundationModels/v1/completion',
        ],
        'gpt-lite' => [
            'name' => 'YandexGPT Lite',
            'model' => 'yandexgpt-lite',
            'version' => 'latest',
            'temperature' => 0.5,
            'max_tokens' => 1000,
            'endpoint' => 'https://llm.api.cloud.yandex.net/foundationModels/v1/completion',
        ],
        'foundation-pro' => [
            'name' => 'Foundation Models Pro',
            'model' => 'general',
            'version' => 'latest',
            'temperature' => 0.3,
            'max_tokens' => 1500,
            'endpoint' => 'https://llm.api.cloud.yandex.net/foundationModels/v1/completion',
        ]
    ],

    'default_model' => 'gpt-5.1-pro',

    'prompts' => [
        'email_analysis' => [
            'system' => 'Ты - эксперт по анализу корпоративной переписки банка. Твоя задача - сначала проверить письмо на спам и релевантность, а затем глубоко проанализировать входящее письмо и классифицировать его по множеству параметров. ПРОВЕРКА НА СПАМ ОБЯЗАТЕЛЬНА: если письмо содержит спам, рекламу, не соответствующую банку информацию или очевидно не предназначено для банка - установи spam_check = 1 и не трать время на детальный анализ остальных полей.',
            'user_template' => "Сначала проверь письмо на спам и релевантность. Если это спам, реклама или не соответствующая банку информация - установи spam_check = 1 и заполни только минимальные поля. Если письмо нормальное - выполни полный анализ.\n\nПисьмо: {email_content}\n\nСписок доступных департаментов:\n{departments}\n\nТребуемый формат ответа: {response_format}\n\nИнструкции по проверке на спам:\n• spam_check = 1 если: спам, реклама, фишинг, не соответствующая банку информация, массовые рассылки, нерелевантные предложения\n• spam_check = 0 если: нормальная деловая переписка, запросы клиентов, партнерские предложения, официальные документы\n\nИнструкции по полному анализу (только если spam_check = 0):\n1. Классифицируй письмо по первичному и вторичному типу\n2. Определи бизнес-контекст и уровень формальности коммуникации\n3. Автоматически рассчитай SLA дедлайн на основе типа запроса\n4. Оцени юридические риски и необходимые согласования\n5. Извлеки всю контактную информацию и регуляторные ссылки\n6. Определи явные и неявные требования отправителя\n7. Сформулируй конкретные рекомендации по действиям\n8. Определи подходящий департамент из списка выше (укажи код департамента)\n9. Создай краткое название задачи (3-7 слов, отражающее суть проблемы)\n10. Определи приоритет задачи: urgent (критично, требует немедленных действий), high (важно, в ближайшее время), medium (стандартно), low (не срочно)"
        ],
        'thread_reply' => [
            'system' => 'Ты - помощник для генерации ответов на письма в корпоративной переписке. Учитывай контекст всей переписки, предыдущие письма и ответы. Генерируй профессиональный, вежливый и релевантный ответ с красивым форматированием.',
            'user_template' => "Сгенерируй ответ на последнее письмо в данной переписке. Учитывай весь контекст переписки:\n\n{thread_context}\n\n{analysis_context}\n\nИнструкции по генерации ответа:\n1. Если доступна аналитика писем - обязательно учитывай приоритет, тип запроса, юридические риски и рекомендации из аналитики\n2. Соблюдай уровень формальности ответа, указанный в аналитике (если доступен)\n3. Учитывай предложенный ответ из аналитики, но адаптируй его под контекст всей переписки\n4. Если в аналитике указаны рекомендуемые действия - отрази их в ответе\n5. Будь профессиональным, вежливым и релевантным\n6. Ответ должен быть на русском языке\n7. ВАЖНО: Используй красивое форматирование текста:\n   - Разделяй текст на логические абзацы (пустая строка между абзацами)\n   - Используй маркированные списки для перечисления (символы • или -)\n   - Используй нумерованные списки для последовательности действий\n   - Выделяй важные моменты жирным текстом (используй **текст** для markdown)\n   - Используй заголовки для структурирования (если ответ длинный)\n   - Добавляй приветствие в начале и подпись в конце\n   - Структурируй ответ: приветствие → основная часть → заключение → подпись\n\nПример структуры ответа:\n\nУважаемый [Имя]!\n\n[Основной текст ответа, разделенный на абзацы]\n\nПо вашему вопросу:\n• Пункт 1\n• Пункт 2\n• Пункт 3\n\n**Важно:** [Выделенный важный момент]\n\n[Заключительный абзац]\n\nС уважением,\n[Подпись]\n\nТребуемый формат ответа: {response_format}"
        ]
    ]
];

